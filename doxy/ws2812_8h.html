<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ws2812: src/ws2812.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ws2812
   </div>
   <div id="projectbrief">neopixel on rp2040 using multiply PIO.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('ws2812_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ws2812.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;hardware/clocks.h&quot;</code><br />
<code>#include &quot;hardware/pio.h&quot;</code><br />
<code>#include &quot;ws2812.pio.h&quot;</code><br />
</div>
<p><a href="ws2812_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrgb__t.html">rgb_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstrip.html">strip</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:affd3385ac8dcf6f8a5b293a74b2c012a" id="r_affd3385ac8dcf6f8a5b293a74b2c012a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structstrip.html">strip</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affd3385ac8dcf6f8a5b293a74b2c012a">strip_init</a> (<a class="el" href="structstrip.html">strip</a> *s, PIO pio, uint pin, int len, <a class="el" href="structrgb__t.html">rgb_t</a> *p)</td></tr>
<tr class="memdesc:affd3385ac8dcf6f8a5b293a74b2c012a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise a strip and allocate a state machine too it.  <br /></td></tr>
<tr class="separator:affd3385ac8dcf6f8a5b293a74b2c012a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba164ac2ec0699934202f732e296959" id="r_a0ba164ac2ec0699934202f732e296959"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ba164ac2ec0699934202f732e296959">strip_reset</a> (<a class="el" href="structstrip.html">strip</a> *s)</td></tr>
<tr class="memdesc:a0ba164ac2ec0699934202f732e296959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset a strip.  <br /></td></tr>
<tr class="separator:a0ba164ac2ec0699934202f732e296959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1252c688df384df03e1f1ae1f0a453c1" id="r_a1252c688df384df03e1f1ae1f0a453c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1252c688df384df03e1f1ae1f0a453c1">strip_tx</a> (<a class="el" href="structstrip.html">strip</a> *s)</td></tr>
<tr class="memdesc:a1252c688df384df03e1f1ae1f0a453c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit one strip.  <br /></td></tr>
<tr class="separator:a1252c688df384df03e1f1ae1f0a453c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efa4a47fc32816268615b1262c7a7c1" id="r_a4efa4a47fc32816268615b1262c7a7c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4efa4a47fc32816268615b1262c7a7c1">strips_tx</a> (<a class="el" href="structstrip.html">strip</a> *ss)</td></tr>
<tr class="memdesc:a4efa4a47fc32816268615b1262c7a7c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit all pattern buffers. We iterate all strips until all returns true(all strips are done).  <br /></td></tr>
<tr class="separator:a4efa4a47fc32816268615b1262c7a7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c8e1b60fa3bfdd0bcf5cb756b50412" id="r_aa2c8e1b60fa3bfdd0bcf5cb756b50412"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2c8e1b60fa3bfdd0bcf5cb756b50412">strips_reset</a> (<a class="el" href="structstrip.html">strip</a> *ss)</td></tr>
<tr class="memdesc:aa2c8e1b60fa3bfdd0bcf5cb756b50412"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all strips.  <br /></td></tr>
<tr class="separator:aa2c8e1b60fa3bfdd0bcf5cb756b50412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a0be96af4b2dde7a07a09bdb8ae0a9" id="r_a96a0be96af4b2dde7a07a09bdb8ae0a9"><td class="memItemLeft" align="right" valign="top">uint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96a0be96af4b2dde7a07a09bdb8ae0a9">ws2812_init</a> (PIO pio, uint pin, float freq)</td></tr>
<tr class="memdesc:a96a0be96af4b2dde7a07a09bdb8ae0a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init PIO.  <br /></td></tr>
<tr class="separator:a96a0be96af4b2dde7a07a09bdb8ae0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="affd3385ac8dcf6f8a5b293a74b2c012a" name="affd3385ac8dcf6f8a5b293a74b2c012a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affd3385ac8dcf6f8a5b293a74b2c012a">&#9670;&#160;</a></span>strip_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstrip.html">strip</a> * strip_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstrip.html">strip</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PIO</td>          <td class="paramname"><span class="paramname"><em>pio</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>pin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrgb__t.html">rgb_t</a> *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise a strip and allocate a state machine too it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>A strip. </td></tr>
    <tr><td class="paramname">pio</td><td>PIO the strip will be asigned too. </td></tr>
    <tr><td class="paramname">pin</td><td>Out pin for the strip. </td></tr>
    <tr><td class="paramname">len</td><td>Buffer length. </td></tr>
    <tr><td class="paramname">p</td><td>Pattern buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>strip </dd></dl>

</div>
</div>
<a id="a0ba164ac2ec0699934202f732e296959" name="a0ba164ac2ec0699934202f732e296959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba164ac2ec0699934202f732e296959">&#9670;&#160;</a></span>strip_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void strip_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstrip.html">strip</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset a strip. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>A strip. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1252c688df384df03e1f1ae1f0a453c1" name="a1252c688df384df03e1f1ae1f0a453c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1252c688df384df03e1f1ae1f0a453c1">&#9670;&#160;</a></span>strip_tx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool strip_tx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstrip.html">strip</a> *</td>          <td class="paramname"><span class="paramname"><em>s</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit one strip. </p>
<p>First check if FIFO buffer is full, if it is just return with false(not done). If done flag is on return true (is done). Send RGB word(32 bit) to FIFO buffer. When buffer is exhausted, set done flag and return true, else return false(not done). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>One strip. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa2c8e1b60fa3bfdd0bcf5cb756b50412" name="aa2c8e1b60fa3bfdd0bcf5cb756b50412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2c8e1b60fa3bfdd0bcf5cb756b50412">&#9670;&#160;</a></span>strips_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void strips_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstrip.html">strip</a> *</td>          <td class="paramname"><span class="paramname"><em>ss</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset all strips. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ss</td><td>Array of strips. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4efa4a47fc32816268615b1262c7a7c1" name="a4efa4a47fc32816268615b1262c7a7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efa4a47fc32816268615b1262c7a7c1">&#9670;&#160;</a></span>strips_tx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void strips_tx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structstrip.html">strip</a> *</td>          <td class="paramname"><span class="paramname"><em>ss</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transmit all pattern buffers. We iterate all strips until all returns true(all strips are done). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ss</td><td>Array of strips. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a96a0be96af4b2dde7a07a09bdb8ae0a9" name="a96a0be96af4b2dde7a07a09bdb8ae0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a0be96af4b2dde7a07a09bdb8ae0a9">&#9670;&#160;</a></span>ws2812_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint ws2812_init </td>
          <td>(</td>
          <td class="paramtype">PIO</td>          <td class="paramname"><span class="paramname"><em>pio</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint</td>          <td class="paramname"><span class="paramname"><em>pin</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>freq</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init PIO. </p>
<p>It is the code from pico SDK the example, exept it returns the state machine handle. <br  />
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pio</td><td>The PIO it is assigned too. </td></tr>
    <tr><td class="paramname">pin</td><td>Output pin. </td></tr>
    <tr><td class="paramname">freq</td><td>Baudrate (800000kbps). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint State machine. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="ws2812_8h.html">ws2812.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
